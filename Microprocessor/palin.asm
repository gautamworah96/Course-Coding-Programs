.MODEL SMALL
.STACK 100H
.DATA
	MSG1 DB 0DH,0AH, "ENTER A STRING :$"
	MSG2 DB 0DH,0AH, "GIVEN STRING IS A PALINDROME$"
	MSG3 DB 0DH,0AH, "GIVEN STRING IS NOT A PALINDROME$"
	STR1 DB 255 DUP(?)
	REV DB 255 DUP(?)
.CODE
	START:
		MOV AX,@DATA
		MOV DS,AX
		LEA DX,MSG1
		MOV AH,09H
		INT 21H
		LEA SI,STR1
		MOV CX,0000H
		MOV AH,01H
	READ:
		INT 21H
		CMP AL,0DH
		JE CHECKREV
		MOV [SI],AL
		INC SI
		INC CX
		JMP READ
	CHECKREV:
		MOV AL,'$'
		MOV [SI],AL
		DEC SI
		LEA DI,REV
		MOV BX,CX
	L1:
		MOV AL,[SI]
		MOV [DI],AL
		INC DI
		DEC SI
		DEC CX
		JNZ L1
	
		LEA SI,STR1
		LEA DI,REV
		MOV CX,BX

	PALINDROME:
		MOV AL,[SI]
		CMP [DI],AL
		JNZ FAILURE
		DEC CX
		JNZ PALINDROME
		
		LEA DX,MSG2
		MOV AH,09H
		INT 21H
		JMP FINISH

	FAILURE:
		LEA DX,MSG3
		MOV AH,09H
		INT 21H
	FINISH:
		MOV AH,4CH
		INT 21H
END START